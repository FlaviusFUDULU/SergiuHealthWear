@model IList<AplicatieSalariati.Models.Programare>
@{
    /**/

    ViewBag.Title = "Orar";
}
@using (Html.BeginForm())
{
    <div class="row">
        @Html.HiddenFor(model => model[0].PacientCNP)

        @Html.HiddenFor(model => model[0].MedicCNP)

        <div class="col-sm-4" style="padding-top:20px">
            <div class="panel-body" style="background-color:#F4F4F4">
                <h2>
                    Programare nouă
                </h2>
                <hr/>
                <p>Faceți o programare pentru @Model[0].Pacient.Prenume @Model[0].Pacient.Nume</p>
                <p>
                    <b>
                        @Html.DisplayNameFor(model => model[0].StartDateTime)
                    </b>: @Html.EditorFor(model => model[0].StartDateTime)
                </p>
                <p>
                    <b>
                        @Html.DisplayNameFor(model => model[0].EndDateTime)
                    </b>: @Html.EditorFor(model => model[0].EndDateTime)
                </p>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10" style="margin-left:0">
                        <input type="submit" value="Salvează programare" class="btn btn-primary" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <h2>Programările mele</h2>
            <div class="table-responsive">
                <table class="table">
                    <tr>
                        <th bgcolor="#F4F4F4" style="text-align:left">
                            Ziua
                        </th>
                        <th bgcolor="#F4F4F4" style="text-align:center">
                            Data
                        </th>
                        <th bgcolor="#F4F4F4" style="text-align:right">
                            Orele
                        </th>
                    </tr>
                    <div id="accordion">
                        @for (var i = 1; i < Model.Count; i++)
                        {

                            <tr data-toggle="collapse" data-target="#@Model[i].Id">
                                <td style="text-align:left">
                                    <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                        @Model[i].StartDateTime.DayOfWeek
                                    </button>
                                </td>
                                <td style="text-align:center">
                                    <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                        @Model[i].StartDateTime.Date.ToString("dd/MM/yyyy")
                                    </button>
                                </td>
                                <td style="text-align:right">
                                    <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                        @Model[i].StartDateTime.ToString("HH:mm") - @Model[i].EndDateTime.ToString("HH:mm")
                                    </button>
                                </td>
                            </tr>

                            <tr class="collapse" data-parent="#accordion" id="@Model[i].Id" bgcolor ="#f2f7ff">
                                <td style="text-align:left">

                                    <p>
                                        <b>
                                            Pacient:

                                        </b>
                                        @(Model[i].Pacient.Prenume +" "+ Model[i].Pacient.Nume)
                                    </p>


                                </td>
                                <td style="text-align:center">
                                    <p>
                                        <b>
                                            Număr Telefon:

                                        </b>
                                        @(Model[i].Pacient.Numartelefon)
                                    </p>
                                </td>
                                <td style="text-align:right">
                                    <p>
                                        <b>
                                            Email:
                                        </b>
                                        @(Model[i].Pacient.Email)
                                    </p>
                                </td>
                            </tr>
                        }
                </table>
            </div>
        </div>
    </div>
}
